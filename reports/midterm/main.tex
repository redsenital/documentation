\documentclass[a4paper, 12pt]{report}

%---PREAMBLE BEGINS HERE---

% Use custom report style package
\usepackage{styles/report}

% Page headers and footers
\usepackage{fancyhdr}

% Section formatting
\usepackage{titlesec}

% Graphics and figures
\usepackage{graphicx}
\usepackage{float}

% Code formatting
\usepackage{minted}
\usepackage{listings}

% Lists and enumerations
\usepackage{enumitem}

% Glossaries and acronyms
\usepackage[acronym, nomain, section=section]{glossaries}
\usepackage{glossaries-extra}

% Table of contents customization
\usepackage{tocloft}
\usepackage[nottoc]{tocbibind}

\setlist[itemize]{noitemsep, topsep=0pt}
\setlist[enumerate]{noitemsep, topsep=0pt}

\newglossarystyle{acronyms}{%
  \renewenvironment{theglossary}{\begin{tabular}{ll}}{\end{tabular}}%
  \renewcommand*{\glossaryheader}{}%
  \renewcommand*{\glsgroupheading}[1]{}%
  \renewcommand*{\glossentry}[2]{\glsentryitem{##1}\glstarget{##1}{\glossentryname{##1}} & \glossentrydesc{##1}\tabularnewline}%
  \renewcommand*{\subglossentry}[3]{\glstarget{##2}{\glossentryname{##2}} & \glossentrydesc{##2}\tabularnewline}%
  \renewcommand*{\glsgroupskip}{}%
}

\makeglossaries

\newgeometry{
    top=1in,
    bottom=1in,
    inner=1.5in,
    outer=1in,
}

% Document metadata - UPDATE BEFORE COMPILING
\newcommand{\projectTitle}{Red Sentinel: Transformer-Based Generation and Obfuscation of Context-Aware XSS Payloads}
\newcommand{\projectDate}{December, 2025}
\newcommand{\projectAuthors}{%
    Bipin Bhattarai (WRC078BCT009) \\[0.3cm]
    Seamoon Pandey (WRC078BCT035) \\[0.3cm]
    Sworup Bhandari (WRC078BCT046)%
}
\newcommand{\projectSupervisor}{Sudip Dahal}
\newcommand{\department}{Department of Electronics and Computer Engineering}
\newcommand{\institution}{Paschimanchal Campus}
\newcommand{\university}{Tribhuvan University, Institute of Engineering}

% Chapter formatting (override default)
\titleformat{\chapter}
   {\fontsize{12pt}{12pt}\bfseries\uppercase}{\thechapter.}{1em}{}[\vspace{-\parskip}]
\titlespacing*{\chapter}{0pt}{0pt}{12pt}

% Chapter* formatting (for unnumbered chapters)
\titleformat{name=\chapter,numberless}
   {\fontsize{12pt}{12pt}\bfseries\uppercase}{}{0em}{}[\vspace{-\parskip}]
\titlespacing*{name=\chapter,numberless}{0pt}{0pt}{12pt}

% Section formatting
\titleformat{\section}
   {\fontsize{12pt}{12pt}\bfseries}{\thesection}{1em}{}
\titlespacing*{\section}{0pt}{12pt}{6pt}

% Subsection formatting
\titleformat{\subsection}
   {\fontsize{12pt}{12pt}\bfseries}{\thesubsection}{1em}{}
\titlespacing*{\subsection}{0pt}{12pt}{6pt}

% Subsubsection formatting
\titleformat{\subsubsection}
   {\fontsize{12pt}{12pt}\bfseries}{\thesubsubsection}{1em}{}
\titlespacing*{\subsubsection}{0pt}{12pt}{6pt}

% Limit section numbering depth to 3 levels (chapter.section.subsection)
\setcounter{secnumdepth}{3}
% Limit TOC depth to 3 levels
\setcounter{tocdepth}{3}

\renewcommand{\cftfigpresnum}{Figure\ }
\setlength{\cftfignumwidth}{5em}

\renewcommand{\cfttabpresnum}{Table\ }
\setlength{\cfttabnumwidth}{4.5em}

\renewcommand{\contentsname}{TABLE OF CONTENTS}
\setlength{\cftbeforechapskip}{6pt}
\renewcommand{\cftchapaftersnum}{.}
\renewcommand{\cftchapleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftchapfont}{\bfseries}

\renewcommand{\cfttoctitlefont}{\fontsize{12pt}{12pt}\bfseries}
\setlength{\cftbeforetoctitleskip}{0pt}
\setlength{\cftaftertoctitleskip}{12pt}

\renewcommand{\cftloftitlefont}{\fontsize{12pt}{12pt}\bfseries}
\setlength{\cftbeforeloftitleskip}{20pt}
\setlength{\cftafterloftitleskip}{20pt}

\renewcommand{\cftlottitlefont}{\fontsize{12pt}{12pt}\bfseries}
\setlength{\cftbeforelottitleskip}{20pt}
\setlength{\cftafterlottitleskip}{20pt}

% Hyperref setup - Must be near end of preamble
\hypersetup{
  pdfauthor={Bipin Bhattarai, Seamoon Pandey, Sworup Bhandari},
  pdftitle={\projectTitle},
  pdfsubject={Mid-Term Report - Final Year Project},
  pdfkeywords={XSS, Cross-Site Scripting, Machine Learning, Transformer, Security Testing, Payload Generation}
}

\title{\projectTitle}
\date{\projectDate}

\doublespacing % Line spacing for main content

%---PREAMBLE ENDS HERE---
\begin{document}
%---MAIN DOCUMENT BEGINS HERE---

% Cover page
\include{includes/cover}

% Front matter - Roman numerals
\onehalfspacing
\pagenumbering{roman}
\pagestyle{plain}

% Abstract
\include{includes/abstract}

% Acknowledgments
\include{includes/acknowledgments}

% Table of Contents
\tableofcontents
\newpage

% List of Figures
\listoffigures
\newpage

% List of Tables (only if tables exist)
\makeatletter
\@ifundefined{c@table}{}{%
  \ifnum\value{table}>0
    \listoftables
    \newpage
  \fi
}
\makeatother

% List of Abbreviations
\include{includes/listofabbrevation}
\newpage

% Main content - Arabic numerals
\pagenumbering{arabic}
\pagestyle{plain}

% Chapters
\include{chapters/introduction}
\include{chapters/literature_review}
\include{chapters/methodology}
\include{chapters/work_completed}
\include{chapters/conclusion}

% Bibliography
\bibliographystyle{IEEEtran}
\bibliography{references}

\end{document}
